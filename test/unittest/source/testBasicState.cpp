#include "testBasicState.h"


namespace test
{
////////////////////////////////////////////////////////////////////////////////
BasicState::BasicState(int id)
  : fsm::state_base_basic<test::Event>(id)
  , m_on_entering_calls(0)
  , m_on_exiting_calls(0)
{
}
////////////////////////////////////////////////////////////////////////////////
void BasicState::on_entering()
{
    ++m_on_entering_calls;
}
////////////////////////////////////////////////////////////////////////////////
void BasicState::on_exiting()
{
    ++m_on_exiting_calls;
}
////////////////////////////////////////////////////////////////////////////////
void BasicState::on_event(test::Event const & event)
{
    m_events.push_back(event);
}
////////////////////////////////////////////////////////////////////////////////
bool BasicState::was_on_entering_called() const
{
    return (m_on_entering_calls > 0);
}
////////////////////////////////////////////////////////////////////////////////
bool BasicState::was_on_exiting_called() const
{
    return (m_on_exiting_calls > 0);
}
////////////////////////////////////////////////////////////////////////////////
bool BasicState::was_on_event_called() const
{
    return !m_events.empty();
}
////////////////////////////////////////////////////////////////////////////////
int BasicState::get_on_entering_call_count() const
{
    return m_on_entering_calls;
}
////////////////////////////////////////////////////////////////////////////////
int BasicState::get_on_exiting_call_count() const
{
    return m_on_exiting_calls;
}
////////////////////////////////////////////////////////////////////////////////
BasicState::events_t const & BasicState::get_events() const
{
    return m_events;
}
////////////////////////////////////////////////////////////////////////////////
void BasicState::reset()
{
    m_on_entering_calls = 0;
    m_on_exiting_calls = 0;
    m_events.clear();
}
////////////////////////////////////////////////////////////////////////////////
}
